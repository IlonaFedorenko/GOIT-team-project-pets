"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[361],{6933:function(r,t,e){e.d(t,{Z:function(){return _}});var n=e(9439),a=e(2791),s=e(1087),c=e(5705),u=e(4925),o="Button_button__wiIYs",i=e(184),p=["children","className","onClick","type"],l=function(r){var t=r.children,e=r.className,n=r.onClick,a=r.type;(0,u.Z)(r,p);return(0,i.jsx)("button",{type:a,onClick:n,className:"".concat(o," ").concat(e," "),children:t})},d=e(6727),h=d.Ry().shape({email:d.Z_().email("Invalid email address").required("Required"),password:d.Z_().nullable().required("Required").min(6,"Password must be at least 6 characters").max(16,"Password must be no more than 16 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Must be at least one number, one lowercase and uppercase letter"),confirmPassword:d.Z_().nullable().when("password",(function(r,t){return r?t.required("Password confirmation required").oneOf([d.iH("password")],"Passwords must match"):t.notRequired()}))}),f=d.Ry().shape({email:d.Z_().email("Invalid email address").required("Required"),password:d.Z_().nullable().required("Required").min(6,"Password must be at least 6 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Must be at least one number, one lowercase and uppercase letter")}),m=e(5763),v=e(1213),w=e(9126),x={form:"AuthForm_form__N+Fyz",register:"AuthForm_register__LBbT3",login:"AuthForm_login__nxTrt",inputContainer:"AuthForm_inputContainer__44gmQ",title:"AuthForm_title__nrVeh",inputWrap:"AuthForm_inputWrap__t4Enc",input:"AuthForm_input__dB7h2",successInput:"AuthForm_successInput__oQ9qy",errorInput:"AuthForm_errorInput__Pe3yE",errorWrap:"AuthForm_errorWrap__0TYvv",successMessage:"AuthForm_successMessage__Vl8si",btnContainer:"AuthForm_btnContainer__hf1ao",button:"AuthForm_button__+RFEI",text:"AuthForm_text__iaP49",link:"AuthForm_link__3I+HY",eyeBtn:"AuthForm_eyeBtn__6eQZ4",eyeIcon:"AuthForm_eyeIcon__4MRzf",crossIcon:"AuthForm_crossIcon__ZrnyS",confirmIcon:"AuthForm_confirmIcon__GT3ef"},_=function(r){var t=r.isRegister,e=r.onSubmit,u=t?h:f,o=(0,a.useState)(!1),p=(0,n.Z)(o,2),d=p[0],_=p[1],g=(0,a.useState)(!1),b=(0,n.Z)(g,2),Z=b[0],y=b[1],N=function(){_(!d)},j=function(){y(!Z)},k=function(r,t){return r[t]},F=function(r,t){return!r[t]};return(0,i.jsx)(c.J9,{initialValues:{email:"",password:"",confirmPassword:""},validationSchema:u,onSubmit:e,children:function(r){var e=r.isSubmitting,n=r.errors,a=r.touched,u=r.setFieldValue;return(0,i.jsxs)(c.l0,{className:"".concat(x.form," ").concat(t?x.register:x.login),children:[(0,i.jsxs)("div",{className:x.inputContainer,children:[t?(0,i.jsx)("h2",{className:x.title,children:"Registration"}):(0,i.jsx)("h2",{className:x.title,children:"Login"}),(0,i.jsxs)("div",{className:x.inputWrap,children:[(0,i.jsx)("label",{htmlFor:"email",hidden:!0,children:"Email"}),(0,i.jsx)(c.gN,{id:"email",type:"email",name:"email",placeholder:"Email",className:"".concat(x.input," ").concat(a.email&&n.email&&x.errorInput)}),a.email&&k(n,"email")&&(0,i.jsx)(v.$iT,{id:"svg",className:x.crossIcon,onClick:function(){return function(r,t){t(r,"")}("email",u)}}),a.email&&F(n,"email")&&(0,i.jsx)(w.oFd,{id:"svg",className:x.confirmIcon})]}),(0,i.jsx)("div",{className:x.errorWrap,children:(0,i.jsx)(c.Bc,{name:"email",component:"div",className:x.error})}),(0,i.jsxs)("div",{className:x.inputWrap,children:[(0,i.jsx)("label",{htmlFor:"password",hidden:!0,children:"Password"}),(0,i.jsx)(c.gN,{id:"password",type:d?"text":"password",name:"password",placeholder:"Password",className:"".concat(x.input," ").concat(a.password&&!n.password&&x.successInput," ").concat(a.password&&n.password&&x.errorInput)}),d?(0,i.jsx)("button",{type:"button",onClick:N,className:x.eyeBtn,children:(0,i.jsx)(m.quy,{id:"svg",className:x.eyeIcon})}):(0,i.jsx)("button",{type:"button",onClick:N,className:x.eyeBtn,children:(0,i.jsx)(m.ONY,{id:"svg",className:x.eyeIcon})}),a.password&&!n.password?(0,i.jsx)("div",{className:x.successMessage,children:"Password is secure"}):(0,i.jsx)("div",{className:x.errorWrap,children:(0,i.jsx)(c.Bc,{name:"password",component:"div",className:x.error})})]}),t&&(0,i.jsxs)("div",{className:x.inputWrap,children:[(0,i.jsx)("label",{htmlFor:"confirmPassword",hidden:!0,children:"Confirm password"}),(0,i.jsx)(c.gN,{id:"confirmPassword",type:Z?"text":"password",name:"confirmPassword",placeholder:"Confirm password",className:"".concat(x.input," ").concat(a.confirmPassword&&!n.confirmPassword&&x.successInput," ").concat(a.confirmPassword&&n.confirmPassword&&x.errorInput)}),Z?(0,i.jsx)("button",{type:"button",onClick:j,className:x.eyeBtn,children:(0,i.jsx)(m.quy,{id:"svg",className:x.eyeIcon})}):(0,i.jsx)("button",{type:"button",onClick:j,className:x.eyeBtn,children:(0,i.jsx)(m.ONY,{id:"svg",className:x.eyeIcon})}),(0,i.jsx)("div",{className:x.errorWrap,children:(0,i.jsx)(c.Bc,{name:"confirmPassword",component:"div",className:x.error})})]})]}),(0,i.jsxs)("div",{className:x.btnContainer,children:[(0,i.jsx)(l,{type:"submit",disabled:e,className:x.button,children:t?"Registration":"Login"}),t?(0,i.jsxs)("p",{className:x.text,children:["Already have an account?"," ",(0,i.jsx)(s.rU,{to:"/login",className:x.link,children:"Login"})]}):(0,i.jsxs)("p",{className:x.text,children:["Don't have an account?"," ",(0,i.jsx)(s.rU,{to:"/register",className:x.link,children:"Register"})]})]})]})}})}},2024:function(r,t,e){e.d(t,{Z:function(){return s}});e(2791);var n="Background_background__WcKDH",a=e(184),s=function(){return(0,a.jsx)("div",{className:n})}},5700:function(r,t,e){e.d(t,{Z:function(){return s}});var n="Container_container__VVOCq",a=e(184),s=function(r){var t=r.children,e=r.className;return(0,a.jsx)("div",{className:"".concat(n," ").concat(e),children:t})}},1294:function(r,t,e){var n=e(4063),a=e(184);t.Z=function(r){var t=r.children,e=r.className;return(0,a.jsx)("div",{className:"".concat(n.Z.section," ").concat(e),children:t})}},3595:function(r,t,e){e.d(t,{x4:function(){return b},IU:function(){return g}});var n=e(4165),a=e(5861),s=e(8690),c=e(4569),u=e.n(c)().create({baseURL:"http://localhost:3000"}),o=function(r){if(r)return u.defaults.headers.authorization="Bearer ".concat(r);u.defaults.headers.authorization=""},i=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var e,a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.post("/users/register",t);case 2:return e=r.sent,a=e.data,o(a.token),r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),p=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var e,a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.post("/users/login",t);case 2:return e=r.sent,a=e.data,o(a.token),r.abrupt("return",a);case 6:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),l=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var e,a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(t),r.next=4,u.get("/users/current");case 4:return e=r.sent,a=e.data,r.abrupt("return",a);case 9:throw r.prev=9,r.t0=r.catch(0),o(),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(t){return r.apply(this,arguments)}}(),d=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a,s;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(t),r.next=4,u.patch("/users",e);case 4:return a=r.sent,s=a.data,r.abrupt("return",s);case 9:throw r.prev=9,r.t0=r.catch(0),o(),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(t,e){return r.apply(this,arguments)}}(),h=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a,s;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,o(t),r.next=4,u.patch("/users/avatars",e);case 4:return a=r.sent,s=a.data,r.abrupt("return",s);case 9:throw r.prev=9,r.t0=r.catch(0),o(),r.t0;case 13:case"end":return r.stop()}}),r,null,[[0,9]])})));return function(t,e){return r.apply(this,arguments)}}(),f=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(){var t,e;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.post("/users/logout");case 2:return t=r.sent,e=t.data,o(),r.abrupt("return",e);case 6:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),m=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var e,a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.post("/notices/favorites/".concat(t));case 2:return e=r.sent,a=e.data,r.abrupt("return",a);case 5:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),v=function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t){var e;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,u.delete("/notices/favorites/".concat(t));case 2:return e=r.sent,r.abrupt("return",e);case 4:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}(),w=e(1686),x=e.n(w);function _(r){switch(r.status){case 400:case 401:x().Notify.warning("".concat(r.data.message,". Try it again\nError ").concat(r.status));break;case 409:x().Notify.warning("".concat(r.data.message,". Try another one or log in. \n        Error ").concat(r.status));break;case 500:x().Notify.warning("Unfortunately, something has gone wrong. Please refresh your browser\nError ".concat(r.status));break;default:x().Notify.warning("Oops, something went wrong...Try it again\nError ".concat(r.status," ").concat(r.statusText," "))}}x().Notify.init({width:"280px",position:"center-top",distance:"15px",timeout:5e3,opacity:1,warning:{background:"#54ADFF",textColor:"#111111",notiflixIconColor:"#ffc107"}});var g=(0,s.hg)("auth/signup",function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a,s,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.rejectWithValue,r.prev=1,r.next=4,i(t);case 4:return s=r.sent,r.abrupt("return",s);case 8:return r.prev=8,r.t0=r.catch(1),_(c=r.t0.response),r.abrupt("return",a(c));case 13:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(t,e){return r.apply(this,arguments)}}()),b=(0,s.hg)("auth/login",function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a,s,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.rejectWithValue,r.prev=1,r.next=4,p(t);case 4:return s=r.sent,r.abrupt("return",s);case 8:return r.prev=8,r.t0=r.catch(1),_(c=r.t0.response),r.abrupt("return",a(c));case 13:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(t,e){return r.apply(this,arguments)}}());(0,s.hg)("auth/current",function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a,s,c,u,o,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.rejectWithValue,s=e.getState,r.prev=1,c=s(),u=c.auth,r.next=5,l(u.token);case 5:return o=r.sent,r.abrupt("return",o);case 9:return r.prev=9,r.t0=r.catch(1),_(i=r.t0.response),r.abrupt("return",a(i));case 14:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(t,e){return r.apply(this,arguments)}}(),{condition:function(r,t){if(!(0,t.getState)().auth.token)return!1}}),(0,s.hg)("auth/update-user",function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a,s,c,u,o,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.rejectWithValue,s=e.getState,r.prev=1,c=s(),u=c.auth,r.next=5,d(u.token,t);case 5:return o=r.sent,r.abrupt("return",o);case 9:return r.prev=9,r.t0=r.catch(1),i=r.t0.response,r.abrupt("return",a(i));case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(t,e){return r.apply(this,arguments)}}(),{condition:function(r,t){if(!(0,t.getState)().auth.token)return!1}}),(0,s.hg)("auth/update-avatar",function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a,s,c,u,o,i;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.rejectWithValue,s=e.getState,r.prev=1,c=s(),u=c.auth,r.next=5,h(u.token,t);case 5:return o=r.sent,r.abrupt("return",o);case 9:throw r.prev=9,r.t0=r.catch(1),i=r.t0.response,a(i);case 13:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(t,e){return r.apply(this,arguments)}}(),{condition:function(r,t){if(!(0,t.getState)().auth.token)return!1}}),(0,s.hg)("auth/logout",function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a,s,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.rejectWithValue,r.prev=1,r.next=4,f();case 4:return s=r.sent,r.abrupt("return",s);case 8:return r.prev=8,r.t0=r.catch(1),c=r.t0.response,r.abrupt("return",a(c));case 12:case"end":return r.stop()}}),r,null,[[1,8]])})));return function(t,e){return r.apply(this,arguments)}}()),(0,s.hg)("user/addFavorite",function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m(t);case 3:return a=r.sent,r.abrupt("return",a);case 7:return r.prev=7,r.t0=r.catch(0),r.abrupt("return",e.rejectWithValue(r.t0));case 10:case"end":return r.stop()}}),r,null,[[0,7]])})));return function(t,e){return r.apply(this,arguments)}}()),(0,s.hg)("user/deleteFavorite",function(){var r=(0,a.Z)((0,n.Z)().mark((function r(t,e){var a,s,c;return(0,n.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=e.rejectWithValue,r.prev=1,r.next=4,v(t);case 4:return s=r.sent,c=s.data,r.abrupt("return",c);case 9:return r.prev=9,r.t0=r.catch(1),r.abrupt("return",a(r.t0));case 12:case"end":return r.stop()}}),r,null,[[1,9]])})));return function(t,e){return r.apply(this,arguments)}}())},9869:function(r,t,e){e.d(t,{hg:function(){return s},rU:function(){return a},y6:function(){return n}});var n=function(r){return r.auth.isLogin},a=function(r){return r.auth.error},s=function(r){return r.auth.isLoading}},4063:function(r,t){t.Z={section:"Section_section__Z2PLw",sectionlogin:"Section_sectionlogin__Bu46X",sectionRegister:"Section_sectionRegister__aDA4N"}}}]);
//# sourceMappingURL=361.e4efc56d.chunk.js.map